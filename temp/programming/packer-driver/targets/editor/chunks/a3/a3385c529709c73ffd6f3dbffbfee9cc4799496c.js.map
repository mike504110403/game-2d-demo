{"version":3,"sources":["file:///Users/mike/Documents/self/game-2d-demo/assets/scripts/managers/InputManager.js"],"names":["_cjsLoader","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","cc","Class","extends","Component","statics","_instance","properties","inputStates","default","type","Object","onLoad","InputManager","initializeInput","getInstance","moveLeft","moveRight","jump","attack","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyDown","KEY_UP","onKeyUp","console","log","event","keyCode","macro","KEY","left","a","right","d","space","up","w","j","isInputPressed","inputName","_cjsExports"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nlet _cjsExports;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n cc.Class({\n     extends: cc.Component,\n\n     statics: {\n         _instance: null\n     },\n\n     properties: {\n         // 輸入狀態\n         inputStates: {\n             default: {},\n             type: cc.Object\n         }\n     },\n\n     onLoad() {\n         InputManager._instance = this;\n         this.initializeInput();\n     },\n\n     /**\n      * 取得輸入管理器實例\n      */\n     getInstance() {\n         return InputManager._instance;\n     },\n\n     /**\n      * 初始化輸入系統\n      */\n     initializeInput() {\n         // 初始化輸入狀態\n         this.inputStates = {\n             moveLeft: false,\n             moveRight: false,\n             jump: false,\n             attack: false\n         };\n\n         // 註冊鍵盤事件\n         cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n         cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n\n         console.log('輸入管理器初始化完成');\n     },\n\n     /**\n      * 鍵盤按下事件\n      */\n     onKeyDown(event) {\n         switch(event.keyCode) {\n             case cc.macro.KEY.left:\n             case cc.macro.KEY.a:\n                 this.inputStates.moveLeft = true;\n                 break;\n             case cc.macro.KEY.right:\n             case cc.macro.KEY.d:\n                 this.inputStates.moveRight = true;\n                 break;\n             case cc.macro.KEY.space:\n             case cc.macro.KEY.up:\n             case cc.macro.KEY.w:\n                 this.inputStates.jump = true;\n                 break;\n             case cc.macro.KEY.j:\n                 this.inputStates.attack = true;\n                 break;\n         }\n     },\n\n     /**\n      * 鍵盤釋放事件\n      */\n     onKeyUp(event) {\n         switch(event.keyCode) {\n             case cc.macro.KEY.left:\n             case cc.macro.KEY.a:\n                 this.inputStates.moveLeft = false;\n                 break;\n             case cc.macro.KEY.right:\n             case cc.macro.KEY.d:\n                 this.inputStates.moveRight = false;\n                 break;\n             case cc.macro.KEY.space:\n             case cc.macro.KEY.up:\n             case cc.macro.KEY.w:\n                 this.inputStates.jump = false;\n                 break;\n             case cc.macro.KEY.j:\n                 this.inputStates.attack = false;\n                 break;\n         }\n     },\n\n     /**\n      * 檢查輸入狀態\n      */\n     isInputPressed(inputName) {\n         return this.inputStates[inputName] || false;\n     }\n });\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n\n\n}, {});\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}