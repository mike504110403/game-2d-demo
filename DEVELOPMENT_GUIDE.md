# 2Dæ©«å‘æ²è»¸éŠæˆ²é–‹ç™¼æŒ‡å—

## å°ˆæ¡ˆæ¶æ§‹æ¦‚è¦½

é€™å€‹å°ˆæ¡ˆå»ºç«‹äº†ä¸€å€‹å®Œæ•´çš„2Dæ©«å‘æ²è»¸éŠæˆ²æ¶æ§‹ï¼Œé¡ä¼¼æ–°æ¥“ä¹‹è°·çš„éŠæˆ²é«”é©—ã€‚ä»¥ä¸‹æ˜¯å„å€‹ç³»çµ±çš„è©³ç´°èªªæ˜ï¼š

### ğŸ“ å°ˆæ¡ˆçµæ§‹

```
assets/
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ managers/          # ç®¡ç†å™¨è…³æœ¬
â”‚   â”‚   â”œâ”€â”€ GameManager.ts      # éŠæˆ²æ ¸å¿ƒç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ SceneManager.ts     # å ´æ™¯ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ InputManager.ts     # è¼¸å…¥ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ PhysicsManager.ts   # ç‰©ç†ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ UIManager.ts        # UIç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ AnimationManager.ts # å‹•ç•«ç®¡ç†å™¨
â”‚   â”œâ”€â”€ components/        # çµ„ä»¶è…³æœ¬
â”‚   â”‚   â”œâ”€â”€ PlayerController.ts # ç©å®¶æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ CameraFollow.ts     # ç›¸æ©Ÿè·Ÿéš¨
â”‚   â”‚   â”œâ”€â”€ CollisionHandler.ts # ç¢°æ’è™•ç†å™¨
â”‚   â”‚   â”œâ”€â”€ GameHUD.ts          # éŠæˆ²HUD
â”‚   â”‚   â””â”€â”€ PlayerAnimator.ts   # ç©å®¶å‹•ç•«æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ data/             # è³‡æ–™çµæ§‹
â”‚   â”‚   â”œâ”€â”€ GameConstants.ts    # éŠæˆ²å¸¸æ•¸
â”‚   â”‚   â”œâ”€â”€ PlayerData.ts       # ç©å®¶è³‡æ–™
â”‚   â”‚   â”œâ”€â”€ PhysicsData.ts      # ç‰©ç†è³‡æ–™
â”‚   â”‚   â”œâ”€â”€ UIData.ts           # UIè³‡æ–™
â”‚   â”‚   â””â”€â”€ AnimationData.ts    # å‹•ç•«è³‡æ–™
â”‚   â””â”€â”€ utils/            # å·¥å…·é¡
â”œâ”€â”€ scenes/               # éŠæˆ²å ´æ™¯
â”œâ”€â”€ textures/             # åœ–ç‰‡è³‡æº
â”œâ”€â”€ animations/           # å‹•ç•«è³‡æº
â”œâ”€â”€ prefabs/              # é è£½é«”
â”œâ”€â”€ audio/                # éŸ³æ•ˆè³‡æº
â””â”€â”€ fonts/                # å­—é«”è³‡æº
```

## ğŸ® æ ¸å¿ƒç³»çµ±èªªæ˜

### 1. éŠæˆ²ç®¡ç†å™¨ (GameManager)
- **ä½œç”¨**: éŠæˆ²çš„æ ¸å¿ƒç®¡ç†å™¨ï¼Œå”èª¿å„å€‹å­ç³»çµ±
- **åŠŸèƒ½**: åˆå§‹åŒ–éŠæˆ²ã€ç®¡ç†éŠæˆ²ç‹€æ…‹ã€å”èª¿å„ç®¡ç†å™¨
- **ä½¿ç”¨æ–¹å¼**: åœ¨å ´æ™¯ä¸­å»ºç«‹ä¸€å€‹ç©ºç‰©ä»¶ï¼Œé™„åŠ GameManagerçµ„ä»¶

### 2. å ´æ™¯ç®¡ç†å™¨ (SceneManager)
- **ä½œç”¨**: ç®¡ç†éŠæˆ²å ´æ™¯çš„åˆ‡æ›å’Œè¼‰å…¥
- **åŠŸèƒ½**: å ´æ™¯åˆ‡æ›ã€å ´æ™¯è¼‰å…¥ã€å ´æ™¯ç‹€æ…‹ç®¡ç†
- **ä½¿ç”¨æ–¹å¼**: 
```typescript
const sceneManager = SceneManager.getInstance();
sceneManager.goToGamePlay(); // åˆ‡æ›åˆ°éŠæˆ²å ´æ™¯
```

### 3. è¼¸å…¥ç®¡ç†å™¨ (InputManager)
- **ä½œç”¨**: è™•ç†æ‰€æœ‰è¼¸å…¥äº‹ä»¶ï¼ŒåŒ…æ‹¬éµç›¤å’Œè§¸æ§
- **åŠŸèƒ½**: è¼¸å…¥ç‹€æ…‹ç®¡ç†ã€è¼¸å…¥äº‹ä»¶åˆ†ç™¼ã€è™›æ“¬æŒ‰éˆ•æ”¯æ´
- **ä½¿ç”¨æ–¹å¼**:
```typescript
const inputManager = InputManager.getInstance();
const isMovingLeft = inputManager.isInputPressed(InputAction.MOVE_LEFT);
```

### 4. ç‰©ç†ç®¡ç†å™¨ (PhysicsManager)
- **ä½œç”¨**: ç®¡ç†ç‰©ç†ç³»çµ±çš„åˆå§‹åŒ–å’Œç¢°æ’äº‹ä»¶è™•ç†
- **åŠŸèƒ½**: ç‰©ç†ç³»çµ±è¨­å®šã€ç¢°æ’æª¢æ¸¬ã€ç‰©ç†æè³ªç®¡ç†
- **ä½¿ç”¨æ–¹å¼**:
```typescript
const physicsManager = PhysicsManager.getInstance();
physicsManager.setupPlayerPhysics(playerNode);
```

### 5. UIç®¡ç†å™¨ (UIManager)
- **ä½œç”¨**: ç®¡ç†æ‰€æœ‰UIé¢æ¿çš„é¡¯ç¤ºã€éš±è—å’Œå‹•ç•«
- **åŠŸèƒ½**: UIé¢æ¿ç®¡ç†ã€UIå‹•ç•«ã€UIäº‹ä»¶è™•ç†
- **ä½¿ç”¨æ–¹å¼**:
```typescript
const uiManager = UIManager.getInstance();
uiManager.showPanel(UIPanelType.GAME_HUD);
```

### 6. å‹•ç•«ç®¡ç†å™¨ (AnimationManager)
- **ä½œç”¨**: ç®¡ç†æ‰€æœ‰å‹•ç•«çš„æ’­æ”¾ã€åœæ­¢å’Œäº‹ä»¶è™•ç†
- **åŠŸèƒ½**: ç²¾éˆå‹•ç•«ã€è£œé–“å‹•ç•«ã€å‹•ç•«åºåˆ—ç®¡ç†
- **ä½¿ç”¨æ–¹å¼**:
```typescript
const animationManager = AnimationManager.getInstance();
animationManager.playSpriteAnimation(sprite, 'walk');
```

## ğŸ¯ é–‹ç™¼æµç¨‹

### ç¬¬ä¸€æ­¥ï¼šå»ºç«‹åŸºæœ¬å ´æ™¯
1. åœ¨Cocos Creatorä¸­å»ºç«‹æ–°å ´æ™¯
2. è¨­å®šå ´æ™¯çš„åŸºæœ¬çµæ§‹ï¼ˆèƒŒæ™¯ã€åœ°é¢ã€ç©å®¶ç­‰ï¼‰
3. åœ¨å ´æ™¯ä¸­å»ºç«‹GameManagerç‰©ä»¶ä¸¦é™„åŠ GameManagerçµ„ä»¶

### ç¬¬äºŒæ­¥ï¼šè¨­å®šç©å®¶è§’è‰²
1. å»ºç«‹ç©å®¶ç¯€é»
2. é™„åŠ PlayerControllerçµ„ä»¶
3. è¨­å®šRigidBody2Då’ŒCollider2Dçµ„ä»¶
4. é™„åŠ PlayerAnimatorçµ„ä»¶è™•ç†å‹•ç•«

### ç¬¬ä¸‰æ­¥ï¼šè¨­å®šç›¸æ©Ÿç³»çµ±
1. åœ¨ç›¸æ©Ÿç¯€é»ä¸Šé™„åŠ CameraFollowçµ„ä»¶
2. è¨­å®šè·Ÿéš¨ç›®æ¨™ç‚ºç©å®¶ç¯€é»
3. èª¿æ•´ç›¸æ©Ÿåƒæ•¸ï¼ˆè·Ÿéš¨é€Ÿåº¦ã€åç§»ç­‰ï¼‰

### ç¬¬å››æ­¥ï¼šå»ºç«‹UIç³»çµ±
1. å»ºç«‹Canvasç¯€é»
2. å»ºç«‹GameHUDç¯€é»ä¸¦é™„åŠ GameHUDçµ„ä»¶
3. åœ¨UIManagerä¸­è¨»å†ŠUIé¢æ¿

### ç¬¬äº”æ­¥ï¼šè¨­å®šç‰©ç†ç³»çµ±
1. åœ¨å ´æ™¯ä¸­å»ºç«‹PhysicsManagerç‰©ä»¶
2. ç‚ºéœ€è¦ç‰©ç†äº’å‹•çš„ç‰©ä»¶è¨­å®šç¢°æ’å™¨
3. ä½¿ç”¨PhysicsManagerè¨­å®šç‰©ç†å±¬æ€§

## ğŸ”§ å¸¸ç”¨æ“ä½œ

### å»ºç«‹æ–°çš„ç®¡ç†å™¨
1. åœ¨`assets/scripts/managers/`ä¸­å»ºç«‹æ–°çš„ç®¡ç†å™¨è…³æœ¬
2. ä½¿ç”¨å–®ä¾‹æ¨¡å¼ç¢ºä¿å…¨å±€å”¯ä¸€
3. åœ¨GameManagerä¸­åˆå§‹åŒ–æ–°ç®¡ç†å™¨

### å»ºç«‹æ–°çš„çµ„ä»¶
1. åœ¨`assets/scripts/components/`ä¸­å»ºç«‹æ–°çš„çµ„ä»¶è…³æœ¬
2. ç¹¼æ‰¿Componenté¡åˆ¥
3. å®šç¾©å¿…è¦çš„å±¬æ€§å’Œæ–¹æ³•

### æ–°å¢éŠæˆ²å¸¸æ•¸
1. åœ¨`assets/scripts/data/GameConstants.ts`ä¸­æ–°å¢å¸¸æ•¸
2. ä½¿ç”¨éœæ…‹å”¯è®€å±¬æ€§å®šç¾©å¸¸æ•¸
3. åœ¨éœ€è¦çš„åœ°æ–¹å¼•ç”¨é€™äº›å¸¸æ•¸

## ğŸ¨ è³‡æºç®¡ç†

### åœ–ç‰‡è³‡æº
- å°‡åœ–ç‰‡æ”¾åœ¨`assets/textures/`è³‡æ–™å¤¾ä¸­
- ä½¿ç”¨åœ–é›†å„ªåŒ–æ•ˆèƒ½
- è¨­å®šé©ç•¶çš„éæ¿¾æ¨¡å¼

### å‹•ç•«è³‡æº
- å°‡å‹•ç•«è³‡æ–™æ”¾åœ¨`assets/animations/`è³‡æ–™å¤¾ä¸­
- ä½¿ç”¨AnimationManagerç®¡ç†å‹•ç•«æ’­æ”¾
- è¨­å®šé©ç•¶çš„æ’­æ”¾æ¨¡å¼å’ŒæŒçºŒæ™‚é–“

### éŸ³æ•ˆè³‡æº
- å°‡éŸ³æ•ˆæª”æ¡ˆæ”¾åœ¨`assets/audio/`è³‡æ–™å¤¾ä¸­
- ä½¿ç”¨AudioSourceçµ„ä»¶æ’­æ”¾éŸ³æ•ˆ
- ç®¡ç†éŸ³æ•ˆçš„æ’­æ”¾å’Œåœæ­¢

## ğŸš€ ä¸‹ä¸€æ­¥é–‹ç™¼

1. **å»ºç«‹éŠæˆ²å ´æ™¯**: è¨­è¨ˆé—œå¡åœ°åœ–å’Œéšœç¤™ç‰©
2. **å¯¦ä½œæ•µäººç³»çµ±**: å»ºç«‹æ•µäººAIå’Œè¡Œç‚º
3. **åŠ å…¥æ”¶é›†å“**: å¯¦ä½œé‡‘å¹£ã€é“å…·ç­‰æ”¶é›†å“
4. **å»ºç«‹é—œå¡ç³»çµ±**: å¯¦ä½œé—œå¡åˆ‡æ›å’Œé€²åº¦ä¿å­˜
5. **å„ªåŒ–æ•ˆèƒ½**: å¯¦ä½œç‰©ä»¶æ± ã€è¦–çª—å‰”é™¤ç­‰å„ªåŒ–æŠ€è¡“
6. **åŠ å…¥éŸ³æ•ˆ**: å¯¦ä½œèƒŒæ™¯éŸ³æ¨‚å’ŒéŸ³æ•ˆç³»çµ±
7. **å»ºç«‹å­˜æª”ç³»çµ±**: å¯¦ä½œç©å®¶é€²åº¦ä¿å­˜å’Œè¼‰å…¥

## ğŸ“ æ³¨æ„äº‹é …

1. **å–®ä¾‹æ¨¡å¼**: æ‰€æœ‰ç®¡ç†å™¨éƒ½ä½¿ç”¨å–®ä¾‹æ¨¡å¼ï¼Œç¢ºä¿å…¨å±€å”¯ä¸€
2. **äº‹ä»¶ç³»çµ±**: ä½¿ç”¨äº‹ä»¶å›èª¿æ©Ÿåˆ¶é€²è¡Œçµ„ä»¶é–“é€šè¨Š
3. **è³‡æºç®¡ç†**: åˆç†ç®¡ç†è³‡æºçš„è¼‰å…¥å’Œé‡‹æ”¾
4. **æ•ˆèƒ½å„ªåŒ–**: æ³¨æ„è¨˜æ†¶é«”ä½¿ç”¨å’Œæ¸²æŸ“æ•ˆèƒ½
5. **éŒ¯èª¤è™•ç†**: åŠ å…¥é©ç•¶çš„éŒ¯èª¤è™•ç†å’Œæ—¥èªŒè¨˜éŒ„

é€™å€‹æ¶æ§‹ç‚ºæ‚¨æä¾›äº†ä¸€å€‹å®Œæ•´çš„2Dæ©«å‘æ²è»¸éŠæˆ²é–‹ç™¼åŸºç¤ï¼Œæ‚¨å¯ä»¥æ ¹æ“šå…·é«”éœ€æ±‚é€²è¡Œæ“´å±•å’Œä¿®æ”¹ã€‚
